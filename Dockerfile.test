FROM python:3.12.1-alpine

RUN mkdir /maxitwit-tests

WORKDIR .

COPY conftest.py /maxitwit-tests/
COPY maxitwit_test.py /maxitwit-tests/
COPY test_requirements.txt /maxitwit-tests/

WORKDIR /maxitwit-tests

RUN pip install -r test_requirements.txt

EXPOSE 3000

ENTRYPOINT ["pytest", "maxitwit_test.py", "--force", "--container"]